<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">Kumla Skyttef√∂rening</title>
    <link id="favicon-link" rel="icon" type="image/png" href="logo.png">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdn.tailwindcss.com https://www.gstatic.com https://cdn.jsdelivr.net https://unpkg.com;">    
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/@sgratzl/chartjs-chart-boxplot@3"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <script src="https://unpkg.com/@sgratzl/chartjs-chart-boxplot@3.10.0/build/index.umd.min.js"></script>
</head>
<body>

  <header class="bg-blue-800 text-white shadow-lg" id="site-header">
      <div class="container pt-4 pb-2 flex flex-col sm:flex-row justify-between items-center relative">
        <div class="header-content flex items-center space-x-4">
            <a href="#hem" id="site-logo-link" class="flex items-center">
                <img id="site-logo" src="logo.png" alt="Kumla Skyttef√∂rening logotyp" class="logo-large mr-2 rounded-full">
            </a>
            <div class="flex flex-col items-start">
                <a id="site-title-display" href="#hem" class="text-4xl font-extrabold tracking-tight">Kumla Skyttef√∂rening</a>
                <p class="text-sm text-gray-300">Original</p>
            </div>
        </div>
        <span id="admin-indicator" class="hidden bg-green-500 text-white text-xs font-bold rounded-full px-2 py-1 sm:static absolute top-4 right-4 z-10">ADMIN</span>
        <button id="mobile-menu-btn" class="md:hidden focus:outline-none ml-auto text-white mt-4 sm:mt-0 p-2 relative z-20">
            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
            </svg>
        </button>
    </div>
    <div class="container pb-4">
        <nav id="main-nav" class="hidden md:flex space-x-8 items-center border-t border-blue-400/30 pt-2">
            <a href="#hem" class="nav-link font-medium hover:text-blue-200 transition">Hem</a>
            
            <div class="relative group py-2"> 
                <button class="nav-link font-medium hover:text-blue-200 flex items-center transition focus:outline-none">
                    F√∂reningen <span class="ml-1 text-xs">‚ñº</span>
                </button>
                <div class="absolute left-0 mt-0 w-48 bg-white text-gray-800 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 z-50 transform group-hover:translate-y-0 translate-y-2">
                    <a href="#nyheter" class="block px-4 py-2 hover:bg-gray-100 rounded-t-lg">Nyheter</a>
                    <a href="#kalender" class="block px-4 py-2 hover:bg-gray-100">Kalender</a>
                    <a href="#omoss" class="block px-4 py-2 hover:bg-gray-100">Om oss</a> 
                    <a href="#omoss" onclick="setTimeout(()=>document.getElementById('contact-info').scrollIntoView(), 100)" class="block px-4 py-2 hover:bg-gray-100">Styrelse & Kontakt</a>
                    <a href="#sponsorer" id="nav-sponsors-link" class="block px-4 py-2 hover:bg-gray-100">Sponsorer</a>
                    <a href="#bilder" class="block px-4 py-2 hover:bg-gray-100 rounded-b-lg">Bilder</a> 
                </div>
            </div>

            <a href="#topplistor" class="nav-link font-medium hover:text-blue-200 transition">
                Topplistor
            </a>

            <a href="#admin" id="nav-site-admin-link" class="nav-link text-yellow-300 hover:text-yellow-100 hidden font-bold">
                ‚öôÔ∏è Inst√§llningar
            </a>

            <button id="user-nav-link" onclick="window.location.hash='#medlem'" class="bg-yellow-400 text-blue-900 px-4 py-2 rounded-full font-bold hover:bg-yellow-300 transition shadow-md ml-auto">
                Mina Sidor
            </button>
        </nav>
    </div>
    
    <div id="mobile-menu" class="hidden md:hidden bg-blue-900 border-t border-blue-700 p-4">
        <a href="#hem" class="block py-2 px-4 hover:bg-blue-800 rounded text-white">Hem</a>
        <a href="#nyheter" class="block py-2 px-4 hover:bg-blue-800 rounded text-white">Nyheter</a>
        <a href="#kalender" class="block py-2 px-4 hover:bg-blue-800 rounded text-white">Kalender</a>
        <a href="#omoss" class="block py-2 px-4 hover:bg-blue-800 rounded text-white">Om oss</a>
        <a href="#bilder" class="block py-2 px-4 hover:bg-blue-800 rounded text-white">Bilder</a>
        <a href="#topplistor" class="block py-2 px-4 hover:bg-blue-800 rounded text-white">Topplistor</a>
        <a href="#medlem" class="block py-2 px-4 hover:bg-blue-800 rounded text-white bg-blue-950 font-bold mt-4">Mina Sidor</a>
    </div>
  </header>

    <main class="container">
        
        <section id="hem" class="page active">
            <div class="bg-blue-100 p-8 rounded-xl text-center mb-8">
                <h1 class="text-4xl font-extrabold text-blue-900 mb-4">V√§lkommen till Kumla Skyttef√∂rening!</h1>
                <p class="text-lg text-blue-700">Vi √§r en klubb f√∂r entusiaster av skytte. H√§r kan du hitta information om v√•r historia, nyheter och kommande evenemang.</p>
            </div>
            
           <div id="achievements-section" class="hidden mb-12 bg-white p-6 rounded-xl shadow-md border-t-4 border-yellow-400 cursor-pointer hover:bg-gray-50 transition">
                <h2 class="text-2xl font-bold mb-4 text-gray-800 flex items-center justify-between">
                    <span><span class="text-3xl mr-2">üèÜ</span> Senaste Prestationerna</span>
                    <span class="text-sm font-normal text-blue-600 bg-blue-50 px-3 py-1 rounded-full">Klicka f√∂r topplistor ‚Üí</span>
                </h2>
                <div id="home-latest-results" class="space-y-2">
                    <p class="text-gray-500 italic">Laddar prestationer...</p>
                </div>
            </div>

            <h2 class="text-3xl font-bold mb-4">Senaste Nyheterna</h2>
            <div id="news-container" class="grid grid-cols-1 md:grid-cols-2 gap-6"></div>
            
            <h2 class="text-3xl font-bold mt-8 mb-4">Kommande Evenemang</h2>
            <div id="events-container" class="grid grid-cols-1 md:grid-cols-2 gap-6"></div>
        </section>

        <section id="omoss" class="page">
             <h1 class="text-4xl font-bold mb-6">Om oss</h1>
            
            <div class="card mb-6">
                <h2 class="text-2xl font-bold mb-4">Kontakt</h2>
                <div id="contact-info" class="text-gray-700 space-y-2">
                    <p>Adress: <span id="contact-address"></span></p>
                    <p>Skyttelokal: <span id="contact-location"></span></p>
                    <p>Telefon: <span id="contact-phone"></span></p>
                    <p>Email: <span id="contact-email"></span></p>
                </div>
                <div class="mt-4 rounded-lg overflow-hidden shadow-md">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1543.8684086108005!2d15.132685370881802!3d59.121948479400714!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x465c0d725377224b%3A0x6d634e8a469a1090!2sKumlahallen!5e1!3m2!1sen!2sse!4v1765119177356!5m2!1sen!2sse" class="w-full h-64 border-0" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
            </div>
            
            <h2 class="text-3xl font-bold mt-8 mb-4">Historik</h2>
            <div id="history-timeline" class="space-y-6"></div>
            
            <div class="card mt-6 hidden admin-only" id="history-edit-section">
                <h2 class="text-2xl font-bold mb-4">L√§gg till Historik</h2>
                <form id="add-history-form">
                    <input type="hidden" id="history-id"> 
                    <input type="text" id="history-title" required class="w-full p-2 border rounded mb-2" placeholder="Titel">
                    <input type="number" id="history-year" required class="w-full p-2 border rounded mb-2" placeholder="√Örtal">
                    <input type="number" id="history-priority" class="w-full p-2 border rounded mb-2" value="10" placeholder="Prio">
                    <div id="history-content-editor" contenteditable="true" class="editor-content w-full p-3 rounded border mb-2 min-h-[100px]"></div>
                    <button type="submit" class="bg-blue-600 text-white font-bold py-2 px-4 rounded">Spara</button>
                </form>
            </div>
        </section>

        <section id="nyheter" class="page">
            <h1 class="text-4xl font-bold mb-6">Nyheter</h1>
            
            <div class="card mt-6 hidden admin-only">
                <h2 class="text-2xl font-bold mb-4">Skapa Nyhet</h2>
                <form id="add-news-form">
                    <input type="hidden" id="news-id"> 
                    <input type="text" id="news-title" required class="w-full p-2 border rounded mb-2" placeholder="Rubrik">
                    <input type="text" id="news-image-url" class="w-full p-2 border rounded mb-2" placeholder="Bild-URL (Valfritt)">
                    
                    <div class="editor-toolbar mb-2">
                        <button type="button" class="editor-btn p-1 bg-gray-200 rounded" data-command="bold"><b>B</b></button>
                        <button type="button" class="editor-btn p-1 bg-gray-200 rounded" data-command="italic"><i>I</i></button>
                        <button type="button" class="editor-btn p-1 bg-gray-200 rounded" data-command="createLink">üîó</button>
                    </div>
                    <div id="news-content-editor" contenteditable="true" class="editor-content w-full p-3 rounded border mb-2 min-h-[150px] bg-white"></div>
                    
                    <button type="submit" id="add-news-btn" class="bg-blue-600 text-white font-bold py-2 px-4 rounded">Publicera Nyhet</button>
                </form>
            </div>
        </section>
        
        <section id="kalender" class="page">
            <h1 class="text-4xl font-bold mb-6">Kalender</h1>
            
            <div class="card mt-6 hidden admin-only">
                <h2 class="text-2xl font-bold mb-4">L√§gg till H√§ndelse</h2>
                <form id="add-event-form">
                    <input type="hidden" id="event-id">
                    <input type="text" id="event-title" required class="w-full p-2 border rounded mb-2" placeholder="Titel">
                    <div class="flex items-center mb-2">
                        <input type="checkbox" id="is-recurring" class="mr-2"> <label>√Öterkommande?</label>
                    </div>
                    
                    <div id="single-event-fields">
                        <input type="date" id="event-date" class="w-full p-2 border rounded mb-2">
                        <input type="time" id="event-time" class="w-full p-2 border rounded mb-2">
                    </div>

                    <div id="recurring-event-fields" class="hidden">
                        <select id="weekday-select" class="w-full p-2 border rounded mb-2">
                            <option value="monday">M√•ndag</option>
                            <option value="tuesday">Tisdag</option>
                            <option value="wednesday">Onsdag</option>
                            <option value="thursday">Torsdag</option>
                        </select>
                        <div class="flex gap-2">
                            <input type="time" id="start-time" class="w-full p-2 border rounded">
                            <input type="time" id="end-time" class="w-full p-2 border rounded">
                        </div>
                    </div>

                    <div id="event-description-editor" contenteditable="true" class="editor-content w-full p-2 border rounded mb-2 min-h-[50px]" placeholder="Beskrivning"></div>
                    <button type="submit" class="bg-blue-600 text-white font-bold py-2 px-4 rounded">Spara</button>
                </form>
            </div>
        </section>

        <section id="bilder" class="page">
            <h1 class="text-4xl font-bold mb-6">Bildgalleri</h1>
            <div id="image-gallery-grid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"></div>

            <div class="card mt-6 hidden admin-only">
                <h2 class="text-2xl font-bold mb-4">Ladda upp bild</h2>
                <form id="image-upload-form">
                    <input type="file" id="gallery-file" accept="image/*" class="mb-2">
                    <input type="text" id="gallery-title" placeholder="Bildtext" class="w-full p-2 border rounded mb-2">
                    <input type="number" id="gallery-year" placeholder="√Örtal" class="w-full p-2 border rounded mb-2">
                    <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded">Ladda upp</button>
                </form>
            </div>
        </section>

        <section id="sponsorer" class="page">
            <h1 class="text-4xl font-bold mb-6">V√•ra Sponsorer</h1>
            <div id="sponsors-grid" class="grid grid-cols-2 md:grid-cols-4 gap-6"></div>

            <div class="card mt-6 hidden admin-only">
                <h2 class="text-2xl font-bold mb-4" id="sponsor-form-title">L√§gg till Sponsor</h2>
                <form id="add-sponsor-form">
                    <input type="text" id="sponsor-name" placeholder="F√∂retagsnamn" class="w-full p-2 border rounded mb-2" required>
                    <input type="url" id="sponsor-website" placeholder="Hemsida (https://...)" class="w-full p-2 border rounded mb-2">
                    <label class="block text-sm mb-1">Logotyp:</label>
                    <input type="file" id="sponsor-logo-file" accept="image/*" class="mb-4">
                    <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded font-bold">Spara Sponsor</button>
                </form>
            </div>
        </section>

        <section id="medlem" class="page container mx-auto px-4 py-8 hidden">
            
            <div id="user-login-panel" class="max-w-md mx-auto bg-white p-8 rounded-xl shadow-lg mt-10">
                <h2 class="text-3xl font-bold mb-6 text-center text-blue-900">Medlemsinloggning</h2>
                <form id="user-login-form" class="space-y-5">
                    <div>
                        <label class="block text-sm font-bold mb-1 text-gray-700">E-postadress</label>
                        <input type="email" id="login-email" class="w-full p-3 border rounded-lg" required>
                    </div>
                    <div>
                        <label class="block text-sm font-bold mb-1 text-gray-700">L√∂senord</label>
                        <input type="password" id="login-password" class="w-full p-3 border rounded-lg" required>
                    </div>
                    <button type="submit" class="w-full bg-blue-600 text-white font-bold py-3 rounded-lg hover:bg-blue-700">Logga in</button>
                </form>
                <p class="mt-6 text-center text-sm">Har du inget konto? <a href="#" id="show-register-link" class="text-blue-600 font-bold">Registrera dig</a></p>
            </div>

            <div id="register-panel" class="max-w-md mx-auto bg-white p-8 rounded-xl shadow-lg mt-10 hidden">
                <h2 class="text-3xl font-bold mb-6 text-center text-blue-900">Skapa konto</h2>
                <form id="register-form" class="space-y-5">
                    <input type="email" id="reg-email" class="w-full p-3 border rounded-lg" required placeholder="E-post">
                    <input type="password" id="reg-password" class="w-full p-3 border rounded-lg" required placeholder="L√∂senord">
                    <button type="submit" class="w-full bg-green-600 text-white font-bold py-3 rounded-lg">Skapa konto</button>
                </form>
                <p class="mt-6 text-center text-sm"><a href="#" id="show-login-link" class="text-blue-600 font-bold">Logga in ist√§llet</a></p>
            </div>

            <div id="profile-panel" class="hidden animate-fade-in">
                <div class="flex justify-between items-center mb-8 bg-blue-900 text-white p-6 rounded-xl shadow-md">
                    <div>
                        <h2 class="text-3xl font-bold">Mina Sidor</h2>
                        <p class="text-blue-200 mt-1">Inloggad som: <span id="profile-name-display" class="font-bold">...</span> <span class="bg-blue-800 text-xs px-2 py-1 rounded ml-2" id="profile-role-display">Medlem</span></p>
                    </div>
                    <button id="logout-btn" class="bg-white text-blue-900 px-6 py-2 rounded-lg font-bold">Logga ut</button>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
                    <div class="lg:col-span-4 space-y-8">
                        <div class="bg-white p-6 rounded-xl shadow-md border-t-4 border-green-500">
                            <h3 class="text-xl font-bold mb-4">üìù Rapportera Resultat</h3>
                            <form id="add-result-form" class="space-y-4">
                                <div>
                                    <label class="text-xs font-bold text-gray-500">Skytt</label>
                                    <select id="result-shooter-selector" class="w-full p-2 border rounded"><option value="">Laddar...</option></select>
                                </div>
                                <div class="grid grid-cols-2 gap-3">
                                    <div><label class="text-xs font-bold text-gray-500">Datum</label><input type="date" id="result-date" class="w-full p-2 border rounded" required></div>
                                    <div><label class="text-xs font-bold text-gray-500">Typ</label><select id="result-type" class="w-full p-2 border rounded"><option value="training">Tr√§ning</option><option value="competition">T√§vling</option></select></div>
                                </div>
                                
                                <div class="bg-gray-50 p-4 rounded border">
                                    <div class="flex justify-between mb-2">
                                        <label class="text-xs font-bold text-gray-500">Serier</label>
                                        <select id="result-shot-count" class="text-xs border rounded"><option value="20">20 skott</option><option value="40" selected>40 skott</option></select>
                                    </div>
                                    <div id="series-inputs-container" class="grid grid-cols-4 gap-2 mb-2">
                                        <div class="flex flex-col"><label class="text-[10px] text-center">S1</label><input type="text" class="series-input border p-1 text-center font-bold" placeholder="0"></div>
                                        <div class="flex flex-col"><label class="text-[10px] text-center">S2</label><input type="text" class="series-input border p-1 text-center font-bold" placeholder="0"></div>
                                        <div class="flex flex-col"><label class="text-[10px] text-center">S3</label><input type="text" class="series-input border p-1 text-center font-bold" placeholder="0"></div>
                                        <div class="flex flex-col"><label class="text-[10px] text-center">S4</label><input type="text" class="series-input border p-1 text-center font-bold" placeholder="0"></div>
                                    </div>
                                    <div class="flex justify-between pt-2 border-t"><span class="font-bold">Totalt:</span><span id="live-total-display" class="font-bold text-xl text-green-600">0</span></div>
                                </div>
                                <button type="submit" class="w-full bg-green-600 text-white font-bold py-3 rounded hover:bg-green-700">Spara</button>
                            </form>
                        </div>

                        <div class="bg-white p-6 rounded-xl shadow-md">
                            <h3 class="text-lg font-bold mb-4">Min Profil</h3>
                            <form id="profile-form" class="space-y-3">
                                <input type="email" id="profile-email-display" class="w-full p-2 border rounded bg-gray-100" readonly>
                                <input type="text" id="profile-name-input" class="w-full p-2 border rounded" placeholder="Visningsnamn">
                                <button type="submit" class="w-full bg-gray-800 text-white py-2 rounded">Uppdatera</button>
                            </form>
                            <div class="mt-4 pt-4 border-t text-center"><button id="delete-account-btn" class="text-red-500 text-xs hover:underline">Radera konto</button></div>
                        </div>
                    </div>

                    <div class="lg:col-span-8 space-y-8">
                        <div class="bg-white p-6 rounded-xl shadow-md border-t-4 border-blue-500">
                            <div class="flex justify-between items-center mb-6">
                                <h3 class="text-xl font-bold">üìà Utveckling</h3>
                                <select id="shooter-selector" class="p-2 border rounded"><option value="">V√§lj skytt...</option></select>
                            </div>
                            <div class="relative h-72 w-full"><canvas id="statisticsChart"></canvas></div>
                        </div>

                        <div class="bg-white p-6 rounded-xl shadow-md">
                            <h3 class="text-xl font-bold mb-4">Historik</h3>
                            <table class="w-full text-left text-sm">
                                <thead class="bg-gray-100"><tr><th class="p-3">Datum</th><th class="p-3">Skytt</th><th class="p-3">Po√§ng</th><th class="p-3 text-right"></th></tr></thead>
                                <tbody id="my-results-list"><tr><td colspan="4" class="p-4 text-center">Laddar...</td></tr></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="topplistor" class="page">
            <h1 class="text-4xl font-bold mb-6">Topplistor</h1>
            <div id="toplist-container" class="space-y-8"></div>
            <h2 class="text-2xl font-bold mt-12 mb-4 text-yellow-600">üèÜ Klubbrekord</h2>
            <div id="record-container" class="bg-yellow-50 border border-yellow-200 rounded-lg"></div>
        </section>

        <section id="admin" class="page">
            <h1 class="text-4xl font-bold mb-6">Admin & Inst√§llningar</h1>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="card">
                    <h2 class="text-2xl font-bold mb-4">Utseende & Kontakt</h2>
                    <form id="site-settings-form" class="space-y-4">
                        <div><label class="font-bold">Header F√§rg</label><input type="color" id="header-color-input" class="block w-20 h-10 border rounded"></div>
                        <div><label class="font-bold">Logotyp URL</label><input type="text" id="logo-url-input" class="w-full p-2 border rounded"></div>
                        <div><label class="flex items-center gap-2"><input type="checkbox" id="show-sponsors-checkbox"> Visa sponsorer i menyn</label></div>
                        
                        <h3 class="font-bold mt-4 border-t pt-2">Kontaktuppgifter</h3>
                        <input type="text" id="contact-email-input" placeholder="Email" class="w-full p-2 border rounded">
                        <input type="text" id="contact-address-input" placeholder="Adress" class="w-full p-2 border rounded">
                        <button type="submit" class="w-full bg-blue-600 text-white font-bold py-2 rounded">Spara</button>
                    </form>
                </div>

                <div class="space-y-8">
                    <div class="card border-l-4 border-green-500">
                        <h2 class="text-xl font-bold mb-4">Skjutklasser (Statistik)</h2>
                        <div id="admin-classes-list" class="space-y-2 max-h-60 overflow-y-auto mb-4 bg-gray-50 p-2 rounded"></div>
                        
                        <form id="create-class-form" class="bg-gray-100 p-3 rounded">
                            <input type="hidden" id="class-id">
                            <div class="grid grid-cols-2 gap-2 mb-2">
                                <input type="text" id="class-name" placeholder="Namn (L11)" class="p-2 border rounded" required>
                                <select id="class-discipline" class="p-2 border rounded"><option value="sitting">Sittande</option><option value="standing">St√•ende</option></select>
                            </div>
                            <div class="grid grid-cols-2 gap-2 mb-2">
                                <input type="number" id="class-min-age" placeholder="Min √•lder" class="p-2 border rounded" required>
                                <input type="number" id="class-max-age" placeholder="Max √•lder" class="p-2 border rounded" required>
                            </div>
                            <input type="text" id="class-desc" placeholder="Beskrivning" class="w-full p-2 border rounded mb-2">
                            <div class="flex gap-2">
                                <button type="submit" id="create-class-btn" class="flex-1 bg-green-600 text-white font-bold py-2 rounded">Skapa Klass</button>
                                <button type="button" id="cancel-class-edit-btn" class="hidden px-4 bg-gray-400 text-white rounded">Avbryt</button>
                            </div>
                        </form>
                    </div>

                    <div class="card">
                        <h2 class="text-xl font-bold mb-4">Anv√§ndare</h2>
                        <div id="all-users-list" class="space-y-2 max-h-60 overflow-y-auto"></div>
                        <h3 class="font-bold mt-4 mb-2 text-indigo-700">Administrat√∂rer</h3>
                        <ul id="admin-users-list" class="text-sm space-y-1"></ul>
                    </div>
                    
                    <div class="card hidden" id="shooters-admin-section">
                        <h2 class="text-xl font-bold mb-4 text-indigo-900">Alla Skyttprofiler</h2>
                        <div id="admin-shooters-list" class="space-y-2 max-h-60 overflow-y-auto"></div>
                    </div>
                </div>
            </div>

            <div class="card mt-8 border-t-4 border-blue-600">
                <h2 class="text-2xl font-bold mb-4">Dokumentarkiv</h2>
                <form id="upload-doc-form" class="flex gap-4 mb-6 bg-blue-50 p-4 rounded items-end">
                    <div class="flex-1">
                        <label class="text-xs font-bold">Filnamn</label>
                        <input type="text" id="doc-name" class="w-full p-2 border rounded" required>
                    </div>
                    <div class="flex-1">
                        <label class="text-xs font-bold">Kategori</label>
                        <input type="text" id="doc-category" class="w-full p-2 border rounded" list="doc-cats" required>
                        <datalist id="doc-cats"><option value="Protokoll"><option value="Inbjudan"></datalist>
                    </div>
                    <div class="flex-1">
                        <label class="text-xs font-bold">Fil</label>
                        <input type="file" id="doc-file" class="w-full p-2 bg-white border rounded" required>
                    </div>
                    <button type="submit" class="bg-blue-600 text-white font-bold py-2 px-6 rounded h-10">Ladda upp</button>
                </form>
                <div id="document-list" class="space-y-2"></div>
            </div>
        </section>

    </main>

    <footer class="bg-blue-800 text-white text-center py-4 mt-8">
        <p>Kumla Skyttef√∂rening &copy; 2025</p>
    </footer>
    
    <div id="errorModal" class="modal"><div class="modal-content"><p class="text-red-600 font-bold"></p></div></div>
    <div id="confirmationModal" class="modal"><div class="modal-content"><p class="text-green-600 font-bold"></p></div></div>
    <div id="shareModal" class="modal"><div class="modal-content"><span class="modal-close-btn">√ó</span><h3>Dela</h3><input type="text" id="share-url-input" class="w-full p-2 border rounded"></div></div>
    <div id="userInfoModal" class="modal"><div class="modal-content"><span class="modal-close-btn">√ó</span><div id="user-info-content"></div></div></div>
    <div id="imageSelectionModal" class="modal">
        <div class="modal-content w-3/4 h-3/4 flex flex-col">
            <div class="flex justify-between mb-4"><h3 class="font-bold text-xl">V√§lj bild</h3><span class="modal-close-btn text-2xl cursor-pointer">√ó</span></div>
            <div class="flex gap-2 mb-4"><input type="text" id="manual-image-url" placeholder="http://..." class="flex-1 p-2 border rounded"><button id="use-manual-url-btn" class="bg-blue-600 text-white px-4 rounded">Ok</button></div>
            <div id="image-selection-grid" class="grid grid-cols-4 gap-4 overflow-y-auto flex-1 p-2 bg-gray-50 rounded border"></div>
        </div>
    </div>

    <script type="module" src="firebase-config.js"></script>
    <script type="module" src="auth.js"></script>
    <script type="module" src="ui-handler.js"></script>
    <script type="module" src="data-service.js"></script>
    <script type="module" src="upload-handler.js"></script>
    <script type="module" src="form-validation.js"></script>
    <script type="module" src="event-listeners.js"></script>
    <script type="module" src="main.js"></script>
    <script type="module" src="statistics-chart.js"></script>
    <script type="module" src="result-handler.js"></script>

</body>
</html>